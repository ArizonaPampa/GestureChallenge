package PlayerInterface;

import org.jbox2d.common.Vec2;
import org.jbox2d.dynamics.World;
import org.mt4j.util.math.Vector3D;

import GameModel.Constants;

public class PlayerBulletLoader {
	Vec2 goalCenter;
	float angle;
	PlayerInterface myPI;
	int bulletsNumber;
	int reloadDelay_ms;
	
	public PlayerBulletLoader(PlayerInterface pI){
		myPI = pI;
		myPI.getMyColor();
		bulletsNumber = Constants.loaderBulletsNumber;
		reloadDelay_ms = Constants.loaderReloadDelay_ms;
		reload();
	}
	
	public void reload(){
		float interangle = 90/(float)bulletsNumber;
		for(int i=0;i<bulletsNumber;i++){
			Vector3D pos = new Vector3D();
			pos.x=(float) (
					myPI.getMyPG().getBody().getPosition().x+
					Math.cos(0)*Constants.loaderBulletDistance
					);
			pos.y=(float) (
					myPI.getMyPG().getBody().getPosition().y+
					Math.sin(0)*Constants.loaderBulletDistance
					);
			PlayerBullet b = new PlayerBullet(myPI.myGCS.getMTApplication(), pos, 10,
					myPI.getMyGCS().getWorld(), 0f, 0f, 0f,
					myPI.getMyGCS().getScale(), myPI);
		}
	}
}
